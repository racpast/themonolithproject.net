import{E as i,h as r}from"./index-Dqw2FXdk.js";const n={LOAD:"load",END:"end",PLAY:"play",PAUSE:"pause",STATE:"state"};class a{constructor(){Object.assign(this,i,{Events:n})}bindEvents=()=>{for(const t in this.Events){const e=this.Events[t];(window.Howler&&typeof this.obj[`_on${e}`]=="object"||!window.Howler)&&this.obj.on(e,o=>{this.emit(e,o)})}}}class u extends a{constructor(t,e={concurrent:1,interrupt:!1,onload,sprite:{}}){super();const o=()=>{typeof e.onload=="function"&&e.onload.call(this)};this.obj=new r.Howl({src:[t],...e,onload:o}),this.volume=0,this.loop=!0,this.interrupt=e.interrupt,this.bindEvents()}load(){return new Promise(t=>{this.obj.once("load",t),this.obj.load()})}destroy(){this.obj.unload()}play=t=>{typeof t>"u"&&(t={}),this.obj&&(this.interrupt&&this.obj.stop(),t.playbackRate&&this.obj.rate(t.playbackRate),this.obj.play(t.id))};pause=()=>{this.obj.pause(this.currentId)};stop=()=>{this.obj.stop(this.currentId)};fade=(t,e)=>{this.obj.fade(this.volume,Math.min(t,1),e)};fadeOutToStop=(t=300)=>{this.obj.fade(this.volume,0,t),this.obj.once("fade",()=>{this.obj.stop()})};fadeOutToPause=(t=300)=>{this.obj.fade(this.volume,0,t),this.obj.once("fade",()=>{this.obj.pause()})};get volume(){return this.obj.volume(this.currentId)}set volume(t){this.obj.volume(Math.min(t,1))}get muted(){return this.obj.muted}set muted(t){this.obj.mute(t,this.currentId)}get currentTime(){return this.obj.seek()}set currentTime(t){this.obj.seek(t,this.currentId)}get duration(){return this.obj.duration()}get paused(){return!this.obj.playing()}get rate(){return this.obj.rate()}set rate(t){this.obj.rate(t)}get loop(){return this.obj.loop()}set loop(t){this.obj.loop(t)}}export{u as default};
